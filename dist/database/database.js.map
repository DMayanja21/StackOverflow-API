{"version":3,"sources":["../../server/database/database.js"],"names":["mongoose","require","DB_URI","process","env","MONGODB_URI","connect","Promise","resolve","reject","useNewUrlParser","useUnifiedTopology","useFindAndModify","then","res","err","console","log","close","disconnect","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,QAAQ,2BAAGC,OAAO,CAAC,UAAD,CAAV,CAAd;AAEA,IAAMC,MAAM,2BAAG,2BAAAC,OAAO,CAACC,GAAR,CAAYC,WAAZ,gCAA2B,+HAA3B,CAAH,CAAZ,C,CAEA;;;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;AAAA;AAAA,aAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAAA;AAAA;AACrD;AACAT,IAAAA,QAAQ,CACLM,OADH,CACWJ,MADX,EACmB;AACfQ,MAAAA,eAAe,EAAE,IADF;AAEfC,MAAAA,kBAAkB,EAAE,IAFL;AAGfC,MAAAA,gBAAgB,EAAE;AAHH,KADnB,EAMGC,IANH,CAMQ,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA;AAAA;;AAClB,UAAIA,GAAJ,EAAS;AAAA;AAAA;AACPC,QAAAA,OAAO,CAACD,GAAR,CAAY,gCAAZ,EAA8CA,GAA9C;AADO;AAEP,eAAON,MAAM,CAACM,GAAD,CAAb;AACD,OAHD;AAAA;AAAA;;AADkB;AAMlBC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AANkB;AAQlBT,MAAAA,OAAO;AACR,KAfH;AAgBD,GAlBqB;AAkBpB,CAlBF,C,CAqBA;;;;;AACA,IAAMU,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;AAAA;AAClBF,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AADkB;AAElB,SAAOjB,QAAQ,CAACmB,UAAT,EAAP;AACD,CAHD;;;AAKAC,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA,OAAO,EAAPA,OADe;AAEfY,EAAAA,KAAK,EAALA;AAFe,CAAjB","sourcesContent":["const mongoose = require('mongoose');\n\nconst DB_URI = process.env.MONGODB_URI || 'mongodb+srv://stackOverflowEDU:stackOverflowEDU@byarentcluster-gfhab.mongodb.net/stackOverflowEDU?retryWrites=true&w=majority';\n\n// Connect to database\nconst connect = () => new Promise((resolve, reject) => {\n  // Connect to the database then resolve the promise\n  mongoose\n    .connect(DB_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n      useFindAndModify: false,\n    })\n    .then((res, err) => {\n      if (err) {\n        console.err('Error connecting to database=>', err);\n        return reject(err);\n      }\n\n      console.log('Database online');\n\n      resolve();\n    });\n});\n\n\n// Switch off database\nconst close = () => {\n  console.log('Database gone offline');\n  return mongoose.disconnect();\n};\n\nmodule.exports = {\n  connect,\n  close,\n};\n"],"file":"database.js"}